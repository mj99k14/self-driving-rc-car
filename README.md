
# 🚘 自動運転RCカーシステム

このプロジェクトのREADMEは以下の言語でご覧いただけます。  
言語を選択してください：

🇯🇵 日本語 (現在表示中)  
🇰🇷 [한국어 版を読む](README_kr.md)

---

# 🚗 Jetson Nano ベースの自動運転RCカー プロジェクト

> **Jetson Nano + PyTorch + OpenCV** を活用したライン追跡型の自動運転RCカー  
> リアルタイムのライン認識・操舵・速度制御まで自動化を実現

---

## 🧠 プロジェクト概要

Jetson Nano、カメラ、DC/サーボモーターを用いて道路ラインをリアルタイムで認識し、  
CNNベースのディープラーニングモデル（PilotNet）により操舵角を予測し、自動走行を行うプロジェクトです。

---

## 🎬 実行動画（デモ）

![デモGIF](./jetson_rc_car_demo.gif)  
> Jetson Nano によるリアルタイム推論と自動操縦の成功シーン

🔗 [完全版動画を見る（mp4）](https://github.com/mj99k14/self-driving-rc-car/raw/main/video/jetson_autopilot_demo.mp4)

---

## 🛠 使用技術

| カテゴリ | ツール |
|----------|--------|
| プログラミング言語 | Python 3.8 |
| ディープラーニング | PyTorch + PilotNet |
| 映像処理 | OpenCV 4.10.0 |
| ハードウェア | Jetson Nano, DCモーター, サーボモーター, L298N |
| OS/環境 | Ubuntu 18.04 + JetPack 4.6.1, CUDA 10.2 |

---

## 💡 主な実装機能

- 📷 **ライン認識**：OpenCV + CNN による道路中心線の検出  
- 🕹 **操舵・速度制御**：PWM制御によるモーター制御  
- 🔀 **マルチスレッド処理**：映像分析と制御を並列処理  
- 🧠 **自作学習モデル**：13,000枚以上のデータを学習しPilotNetを最適化  

---

## 🔧 こだわった点 / 技術的工夫

- **マルチスレッド処理の導入**  
  Jetson Nanoのリソースを効率よく使用し、リアルタイム推論と安定したモーター制御を両立するために、  
  映像処理と制御処理を別スレッドで並列実行する構造を採用しました。

- **過学習を防ぐための追加データ収集**  
  明るさや角度の異なる状況を想定して、独自に走行データを追加収集し、回転・ノイズ追加などのデータ拡張も行いました。

- **背景ノイズを減らす前処理**  
  学習用画像の上部30%をカットし、モデルが路面情報に集中して学習できるよう工夫しました。

- **データ不均衡の対処**  
  ハンドル角度を30°, 60°, 90°, 120°, 150°の5種類で分類しましたが、実際の環境では90°が最も多く出現。  
  そのため90°のデータ数に合わせて他の角度のデータ数を調整し、学習データのバランスを整えました。

---

## 📈 成果と性能

- 最終 Validation Loss：**0.2107**
- テスト環境における走行成功率：**78.8%**
- 曲線区間での認識率向上のため、データ拡張とパラメータ調整を実施
- 室内トラックでの自律走行に成功  
- Jetson GPU によるリアルタイム映像推論を実装  
- Jetson GPIO と PWM による高精度な操舵制御を達成

---

## 📂 プロジェクト構成

```
self-driving-rc-car/
├── model/             # 学習済みモデル
├── data/              # ライン画像と操舵角ラベル
├── src/               # カメラ、制御、推論コード
├── utils/             # 補助モジュール
└── README.md
```

---

## 📎 関連資料

- 💻 [GitHubリポジトリ](https://github.com/mj99k14/self-driving-rc-car)
- 📄 [発表用スライド (PPTX)](https://github.com/mj99k14/self-driving-rc-car/raw/main/docs/jetson_nano_presentation.pptx)

---

## 🙋 開発者

| 名前 | 担当 |
|------|------|
| キム・ミンジョン | 全体設計 / モデル学習 / Jetson制御 |
